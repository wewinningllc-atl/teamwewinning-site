<script>
  async function init() {
    const cfg = await fetch('config.json').then(r => r.json());
    document.getElementById('tagline').textContent = cfg.tagline;

    // Products
    const pWrap = document.getElementById('products');
    cfg.products.forEach(p => {
      if (p.price) { // only show if it has a price
        const div = document.createElement('div');
        div.innerHTML = p.title + " — " + p.price;
        pWrap.appendChild(div);
      }
    });

    // Events (hide past dates)
    const eWrap = document.getElementById('events');
    const now = new Date();
    cfg.events.forEach(e => {
      const eventDate = new Date(e.date.replace("•", ""));
      if (eventDate >= now) { // only show future events
        const div = document.createElement('div');
        div.innerHTML = e.date + " | " + e.title + " | " + e.time;
        eWrap.appendChild(div);
      }
    });
  }
  init();
</script>

